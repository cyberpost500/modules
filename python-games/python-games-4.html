<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Simple Python &quot;Games&quot; pt. 4</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; }
code > span.dt { color: #204a87; }
code > span.dv { color: #0000cf; }
code > span.bn { color: #0000cf; }
code > span.fl { color: #0000cf; }
code > span.ch { color: #4e9a06; }
code > span.st { color: #4e9a06; }
code > span.co { color: #8f5902; font-style: italic; }
code > span.ot { color: #8f5902; }
code > span.al { color: #ef2929; }
code > span.fu { color: #000000; }
code > span.er { font-weight: bold; }
  </style>
  <link rel="stylesheet" href="/modules/styles.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">Simple Python &quot;Games&quot; pt. 4</h1>
</div>
<div id="TOC">
<ul>
<li><a href="#skillsconcepts"><span class="toc-section-number">1</span> Skills/Concepts</a></li>
<li><a href="#preparation"><span class="toc-section-number">2</span> Preparation</a></li>
<li><a href="#menus-and-more-states"><span class="toc-section-number">3</span> Menus and more States</a><ul>
<li><a href="#background"><span class="toc-section-number">3.1</span> Background</a></li>
<li><a href="#reviewrunmodify-the-code"><span class="toc-section-number">3.2</span> Review/Run/Modify the Code</a></li>
<li><a href="#conclusion"><span class="toc-section-number">3.3</span> Conclusion</a></li>
</ul></li>
<li><a href="#playerier-player"><span class="toc-section-number">4</span> Playerier Player</a><ul>
<li><a href="#background-1"><span class="toc-section-number">4.1</span> Background</a></li>
<li><a href="#reviewrunmodify-the-code-1"><span class="toc-section-number">4.2</span> Review/Run/Modify the Code</a></li>
<li><a href="#conclusion-1"><span class="toc-section-number">4.3</span> Conclusion</a></li>
</ul></li>
<li><a href="#customize-customize-customize"><span class="toc-section-number">5</span> Customize Customize Customize</a><ul>
<li><a href="#conclusion-2"><span class="toc-section-number">5.1</span> Conclusion</a></li>
</ul></li>
</ul>
</div>
<h1 id="skillsconcepts"><span class="header-section-number">1</span> Skills/Concepts</h1>
<p>This module is a continuation of the Python Games module.</p>
<p>This module will continue to build on the previous concepts of:</p>
<ul>
<li>SDL</li>
<li>blitting</li>
<li>Drawing APIs</li>
<li>Classes</li>
<li>Loops</li>
<li>Member Functions</li>
<li>Finite State Machines</li>
</ul>
<h1 id="preparation"><span class="header-section-number">2</span> Preparation</h1>
<p>Continue with the same environment from the previous (Python Games) module.</p>
<p>We will be using an existing git repository that contains a fair amount of code instead of producing a new program from scratch. This is to avoid copy and paste errors and allow us to cover material faster.</p>
<p>To get the code, execute the following command:</p>
<pre><code>git clone https://www.github.com/cyberpost500/modules/</code></pre>
<p>Then extract the project repository to your desktop:</p>
<pre><code>cd modules/python-games/
tar -C ~/Desktop/ -xf project.tar</code></pre>
<p>The code will be in the Desktop/project directory.</p>
<h1 id="menus-and-more-states"><span class="header-section-number">3</span> Menus and more States</h1>
<h2 id="background"><span class="header-section-number">3.1</span> Background</h2>
<p>The menuing system has been updated to include animations that are very similar to the game play experience. This gives it a more polished look, but it would greatly benefit from having a new menu option that explains how to play the game for the user.</p>
<p>The code to be modified is in the <code>master</code> branch. This branch contains a fully functional game.</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">git</span> checkout master</code></pre>
<h2 id="reviewrunmodify-the-code"><span class="header-section-number">3.2</span> Review/Run/Modify the Code</h2>
<ol start="0" style="list-style-type: decimal">
<li>View the Documentation for the program:</li>
</ol>
<pre><code>pydoc game</code></pre>
<p>Press <em>Q</em> to exit when you're done.</p>
<ol style="list-style-type: decimal">
<li>Run the Program:</li>
</ol>
<pre><code>python game.py</code></pre>
<p>Use the arrow keys to navigate the menu.</p>
<p>Eventually choose the quit option from the menu.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>Take a moment to review the content of the file, just skimming through it is fine.</p></li>
<li><p>Add a new menu option called help.</p></li>
<li><p>Make the function it calls something like <code>dohelp</code>.</p></li>
<li><p>Add a new game state called <code>HELP_STATE</code>, similar to the existing states, and have the <code>dohelp</code> function set this state, similar to the <code>reset</code> function.</p></li>
<li><p>Add an if test to the main function that looks for the <code>HELP_STATE</code> and displays text explaining the game for the user. You can model it after the <code>WIN_STATE</code> or <code>LOSE_STATE</code>.</p></li>
<li><p>Add an if test to the main function near the other lines controlling input handling and have the test put the state back to the menu state when the user presses the escape key. Again, you can model it after the <code>WIN_STATE</code> or <code>LOSE_STATE</code>.</p></li>
<li><p>Save and run your program.</p></li>
<li><p>Commit your changes to the code. For example:</p></li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">git</span> commit game.py -m <span class="st">&#39;Added a help option to the menu&#39;</span></code></pre>
<h2 id="conclusion"><span class="header-section-number">3.3</span> Conclusion</h2>
<p>These modifications should have helped to make you familiar with the new program flow and re-expose you to callbacks (the <code>dohelp</code> function), global variables (the STATE related variables,) and finite state machines and their role in the overall game.</p>
<h1 id="playerier-player"><span class="header-section-number">4</span> Playerier Player</h1>
<h2 id="background-1"><span class="header-section-number">4.1</span> Background</h2>
<p>The player shape was recently added to provide the user a shape that they can move around the screen. It's a red circle with the letter P in the center. It's a nice place holder, but it would look better with some customizations.</p>
<h2 id="reviewrunmodify-the-code-1"><span class="header-section-number">4.2</span> Review/Run/Modify the Code</h2>
<ol style="list-style-type: decimal">
<li>Confirm that the code is still working by launching the game and executing each menu option before continuing.</li>
</ol>
<pre><code>python game.py</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Locate the <code>PlayerShape</code> class. Skim through the <code>draw</code> function and see what it does.</p></li>
<li><p>Move to the end of the <code>PlayerShape</code> class definition and add a new <code>SmileyPlayerShape</code> class.</p></li>
<li><p>Add a new draw function to this class, you can copy and paste the draw function from the player class as a starting point.</p></li>
<li><p>Instead of drawing a letter P, make a smiley face by creating two additional circles and an arc.</p></li>
</ol>
<p>Use the following functions:</p>
<pre><code>pygame.draw.circle(Surface, color, pos, radius, width=0) -&gt; Rect
arc(Surface, color, Rect, start_angle, stop_angle, width=1) -&gt; Rect</code></pre>
<p>Documentation for arc:</p>
<blockquote>
<p>Draws an elliptical arc on the Surface. The rect argument is the area that the ellipse will fill. The two angle arguments are the initial and final angle in radians, with the zero on the right. The width argument is the thickness to draw the outer edge.</p>
</blockquote>
<p>Retrieved from <a href="http://www.pygame.org/docs/ref/draw.html#pygame.draw.arc">here</a></p>
<ol start="6" style="list-style-type: decimal">
<li><p>Modify the <code>initialize</code> function so that it uses the new class instead of the PlayerShape class.</p></li>
<li><p>Save and run your code.</p></li>
<li><p>Commit your changes to the code. For example:</p></li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">git</span> commit game.py -m <span class="st">&#39;Improved the player shape by adding a better one&#39;</span></code></pre>
<h2 id="conclusion-1"><span class="header-section-number">4.3</span> Conclusion</h2>
<p>This module served to help re-expose you to extending classes and making use of library functions.</p>
<h1 id="customize-customize-customize"><span class="header-section-number">5</span> Customize Customize Customize</h1>
<p>Make further customizations to the code.</p>
<ol style="list-style-type: decimal">
<li>Come up with an objective.</li>
</ol>
<p>For example:</p>
<ul>
<li><p>Adding a score to the game based on the time spent playing and the number of shapes consumed.</p></li>
<li><p>Modify the triangle shape (by changing the base <code>Shape</code> and the <code>MovingPolygon</code>) so that it can resize when it eats other shapes. Moving the resize logic out of the <code>remove_and_resize</code> function and putting it in the base <code>Shape</code> will make it easier to change the size.</p></li>
<li><p>Add sound effects when eating other shapes, when winning, or when losing.</p></li>
<li><p>Add music to the game play.</p></li>
<li><p>Add logic that causes the NPC shapes to try to eat food items and follow the player instead of moving randomly.</p></li>
<li><p>Or anything else you might want to do.</p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Scope and plan the approach to the problem to see if you can already do it with what you know, or if you will need to learn more. Research the elements you think you might need to see if you will be able to learn enough to complete the objective during the post meeting.</li>
</ol>
<p>Don't immediately discount something as too hard or taking too long.</p>
<p>Chances are that you can find code snippets if you Google your topic and look for Stack Overflow posts.</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Ask questions and run ideas by the advisers, we can probably give you some time saving pointers</p></li>
<li><p>Don't forget to save before running.</p></li>
</ol>
<h2 id="conclusion-2"><span class="header-section-number">5.1</span> Conclusion</h2>
<p>This module should help to make you more comfortable with learning other people's code and modifying it to do what you want. In addition, it exposes you to the sorts of concepts you might consider during actual design or implementation of an idea.</p>
</body>
</html>
