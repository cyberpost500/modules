<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Manual Networking (and Minetest!)</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; }
code > span.dt { color: #204a87; }
code > span.dv { color: #0000cf; }
code > span.bn { color: #0000cf; }
code > span.fl { color: #0000cf; }
code > span.ch { color: #4e9a06; }
code > span.st { color: #4e9a06; }
code > span.co { color: #8f5902; font-style: italic; }
code > span.ot { color: #8f5902; }
code > span.al { color: #ef2929; }
code > span.fu { color: #000000; }
code > span.er { font-weight: bold; }
  </style>
  <link rel="stylesheet" href="/modules/styles.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">Manual Networking (and Minetest!)</h1>
</div>
<div id="TOC">
<ul>
<li><a href="#skillsconcepts"><span class="toc-section-number">1</span> Skills/Concepts</a><ul>
<li><a href="#console-use"><span class="toc-section-number">1.1</span> Console Use</a></li>
<li><a href="#getting-help-for-commands"><span class="toc-section-number">1.2</span> Getting Help for Commands</a></li>
<li><a href="#osi-model"><span class="toc-section-number">1.3</span> OSI Model</a><ul>
<li><a href="#application"><span class="toc-section-number">1.3.1</span> Application</a></li>
<li><a href="#presentation"><span class="toc-section-number">1.3.2</span> Presentation</a></li>
<li><a href="#session"><span class="toc-section-number">1.3.3</span> Session</a></li>
<li><a href="#transport"><span class="toc-section-number">1.3.4</span> Transport</a></li>
<li><a href="#network"><span class="toc-section-number">1.3.5</span> Network</a></li>
<li><a href="#data"><span class="toc-section-number">1.3.6</span> Data</a></li>
<li><a href="#physical"><span class="toc-section-number">1.3.7</span> Physical</a></li>
</ul></li>
<li><a href="#ip-addresses"><span class="toc-section-number">1.4</span> IP Addresses</a><ul>
<li><a href="#ipv4-address"><span class="toc-section-number">1.4.1</span> IPv4 Address</a></li>
<li><a href="#ipv6-address"><span class="toc-section-number">1.4.2</span> IPv6 Address</a></li>
</ul></li>
<li><a href="#network-masks"><span class="toc-section-number">1.5</span> Network Masks</a></li>
<li><a href="#network-switcheshubs"><span class="toc-section-number">1.6</span> Network Switches/Hubs</a></li>
</ul></li>
<li><a href="#preparation"><span class="toc-section-number">2</span> Preparation</a></li>
<li><a href="#bring-up-the-network"><span class="toc-section-number">3</span> Bring Up the Network</a><ul>
<li><a href="#conclusion"><span class="toc-section-number">3.1</span> Conclusion</a></li>
</ul></li>
<li><a href="#get-the-files"><span class="toc-section-number">4</span> Get the Files</a><ul>
<li><a href="#conclusion-1"><span class="toc-section-number">4.1</span> Conclusion</a></li>
</ul></li>
<li><a href="#build-the-project"><span class="toc-section-number">5</span> Build the Project</a><ul>
<li><a href="#conclusion-2"><span class="toc-section-number">5.1</span> Conclusion</a></li>
</ul></li>
<li><a href="#run-the-game"><span class="toc-section-number">6</span> Run the Game</a><ul>
<li><a href="#conclusion-3"><span class="toc-section-number">6.1</span> Conclusion</a></li>
</ul></li>
<li><a href="#build-the-server"><span class="toc-section-number">7</span> Build the Server</a></li>
<li><a href="#launch-the-server"><span class="toc-section-number">8</span> Launch the Server</a><ul>
<li><a href="#conclusion-4"><span class="toc-section-number">8.1</span> Conclusion</a></li>
</ul></li>
<li><a href="#get-some-mods"><span class="toc-section-number">9</span> Get some Mods</a></li>
</ul>
</div>
<h1 id="skillsconcepts"><span class="header-section-number">1</span> Skills/Concepts</h1>
<p>This module provides a very basic introduction to networking and some of the tools that can be used for network configuration.</p>
<p>The following concepts will be touched upon in this module:</p>
<ul>
<li>console use</li>
<li>getting help for commands</li>
<li>OSI Model</li>
<li>IP Addresses</li>
<li>Network Masks</li>
<li>Network Switches/Hubs</li>
</ul>
<h2 id="console-use"><span class="header-section-number">1.1</span> Console Use</h2>
<p>This module relies heavily on the command-line. You will be using a terminal emulator to execute the following commands.</p>
<table>
<colgroup>
<col width="27%" />
<col width="52%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Command</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>apt-get</code></td>
<td align="left">A tool for installing software</td>
</tr>
<tr class="even">
<td align="left"><code>apt-cache</code></td>
<td align="left">A tool for searching for installable software</td>
</tr>
<tr class="odd">
<td align="left"><code>cmake</code></td>
<td align="left">A tool for generating build configurations</td>
</tr>
<tr class="even">
<td align="left"><code>ip</code></td>
<td align="left">General purpose utility for configuring the network</td>
</tr>
<tr class="odd">
<td align="left"><code>make</code></td>
<td align="left">A tool for executing compilers and coordinating source builds</td>
</tr>
<tr class="even">
<td align="left"><code>man</code></td>
<td align="left">View on-line manual pages</td>
</tr>
<tr class="odd">
<td align="left"><code>showmount</code></td>
<td align="left">A utility for viewing available NFS shares</td>
</tr>
<tr class="even">
<td align="left"><code>sudo</code></td>
<td align="left">Execute a command as another user</td>
</tr>
</tbody>
</table>
<h2 id="getting-help-for-commands"><span class="header-section-number">1.2</span> Getting Help for Commands</h2>
<p>Technology these days makes Internet searching just as fast as any built in help, but in addition to googling for stack exchange articles, there is a built-in help or on-line manual for most commands under Linux. Built-in help can typically be accessed by passing <code>--help</code> or <code>-h</code> to the command of interest and it will typically reply back with a short usage block.</p>
<p>In addition to the built-in help, you can refer to manual pages for more usage information for most commands. These pages are generally terribly formatted, frustrating, and are entirely unhelpful if you're not used to reading them.</p>
<p>Various packages usually have some additional documentation in the form of a README or guide that can be found in <code>/usr/share/doc/</code>. Sometimes you will need to install an addition <code>-doc</code> package for whatever the package is to get these files.</p>
<p>I suggest you use the following approach to getting help:</p>
<ul>
<li>Check for a man page</li>
<li>Check for documentation in <code>/usr/share/doc/</code></li>
<li>Google</li>
</ul>
<p>That aside, the general approach to finding help for a given command should be whatever you are most comfortable with or whatever happens to be available. I recommended the above approach because it will help you get used to reading technical documentation so that in the future it will be easier to comprehend whatever documentation is available.</p>
<h2 id="osi-model"><span class="header-section-number">1.3</span> OSI Model</h2>
<p>The <a href="https://en.wikipedia.org/wiki/OSI_model">Open Systems Interconnection</a>(OSI) model is a conceptual model that aids in understanding the systems involved in networking. It's a seven layer model where data traverses the model one layer at a time.</p>
<table>
<tbody>
<tr class="odd">
<td align="center">Application</td>
</tr>
<tr class="even">
<td align="center">Presentation</td>
</tr>
<tr class="odd">
<td align="center">Session</td>
</tr>
<tr class="even">
<td align="center">Transport</td>
</tr>
<tr class="odd">
<td align="center">Network</td>
</tr>
<tr class="even">
<td align="center">Data Link</td>
</tr>
<tr class="odd">
<td align="center">Physical</td>
</tr>
</tbody>
</table>
<p>Of the various mnemonics for remembering the layers, my favorite is:</p>
<blockquote>
<p>A Python Sent The Network Data Packing</p>
</blockquote>
<p>Data originating in an application traverses from the application layer down to the physical layer in the sending host and then goes from the physical layer up to the application layer by the receiving application. The layers are more theoretical than they are actual, as much of the actual implementation logic in an application will scale multiple layers. However, the model is still useful as many networking tasks can be generalized to take advantage of swappable implementations for the intermediate layers.</p>
<h3 id="application"><span class="header-section-number">1.3.1</span> Application</h3>
<p>Abstract network services are made available to applications that package data up for the presentation layer. For example, HTTP, FTP, SMTP.</p>
<h3 id="presentation"><span class="header-section-number">1.3.2</span> Presentation</h3>
<p>Encryption, decryption, or other data formatting/conversions. This isn't providing a graphical presentation, but rather formatting and converting data to be presented to the session layer. Think object serialization.</p>
<h3 id="session"><span class="header-section-number">1.3.3</span> Session</h3>
<p>A session is everything from the connection being established until it terminates. This layer is responsible for allowing applications to talk to each other across the network. Data formatted from the presentation layer is transmitted during the session.</p>
<h3 id="transport"><span class="header-section-number">1.3.4</span> Transport</h3>
<p>Host-based communication between two endpoints is accomplished at the transport layer. Transmission control protocol (TCP) logic is at this level. It encompasses concepts such as flow control, error recovery, and retransmission logic as data is sent to the network layer.</p>
<h3 id="network"><span class="header-section-number">1.3.5</span> Network</h3>
<p>Network routing, paths, switching, forwarding. For example, IP-based connections live at this layer.</p>
<h3 id="data"><span class="header-section-number">1.3.6</span> Data</h3>
<p>Network data is written into frames as bits. Think media access control (MAC) and logical links. Data is encoded as bits before it is passed to the physical layer.</p>
<h3 id="physical"><span class="header-section-number">1.3.7</span> Physical</h3>
<p>Bits are encoded electromagnetically as the particle of choice, light for fiber, or electrons for Ethernet, etc.</p>
<h2 id="ip-addresses"><span class="header-section-number">1.4</span> IP Addresses</h2>
<p>Internet Protocol addresses. There are two varieties of IP address in use on the public Internet, IPv4 and IPv6.</p>
<h3 id="ipv4-address"><span class="header-section-number">1.4.1</span> IPv4 Address</h3>
<p><a href="https://en.wikipedia.org/wiki/IPv4">IPv4</a> addresses are made up of four bytes (sometimes called octets as each byte is being referred to as a collection of eight bits). IPv4 addresses generally appear in &quot;dotted-decimal&quot; notation. For example: <code>192.168.2.1</code></p>
<p>Because they're constructed of only 4 bytes, there are only a total number of 2<sup>32</sup> addresses, or 4,294,967,296. This number is further reduced by the allocation of special-use addresses.</p>
<h3 id="ipv6-address"><span class="header-section-number">1.4.2</span> IPv6 Address</h3>
<p><a href="https://en.wikipedia.org/wiki/IPv6">IPv6</a> addresses are made up of eight groups of two bytes. IPv6 addresses are generally represented with some abbreviated form of the colon separated byte values. For example: <code>1234:5678:9ABC:DEF0:0000:0000:0000:0000</code> or <code>1234:5678:9ABC:DEF0::</code>.</p>
<p>Because it's 128 bits of address space, 2<sup>128</sup> addresses can be represented. Writing this value out in long-form exceeds my vocabulary for numbers.</p>
<h2 id="network-masks"><span class="header-section-number">1.5</span> Network Masks</h2>
<p>Network masks are used in routing tables to define what route traffic must take to reach a location. Any given computer may have multiple network interfaces, these interfaces are generally connected to some sort of network. In order for the operating system to decide which interface is to be used for traffic, it uses the network mask for each interface to determine whether traffic should be routed over that interface. Then, in transit, other systems have their own routing tables that are used to determine where to route the traffic based on the destination IP address and its set of configured network masks.</p>
<p>Generally an interface will have a default route over which any traffic not explicitly destined</p>
<h2 id="network-switcheshubs"><span class="header-section-number">1.6</span> Network Switches/Hubs</h2>
<p>A network hub is a device that replicates all traffic received across all ports. In this context, a port refers to the connection between the Ethernet cable and the RJ45 jack. A switch is a device that monitors media access addresses across its ports and only routes traffic between the ports for which traffic is addressed.</p>
<p>A hub can only handle one simultaneous transmission at a time, a switch can handle many.</p>
<h1 id="preparation"><span class="header-section-number">2</span> Preparation</h1>
<p>We'll be using a CISCO switch in this exercise and plugging in Ethernet cables. Plug in the switch, power it on, and boot up the laptops that will be used. Plug your laptop into the switch using one of the provided Ethernet cables.</p>
<h1 id="bring-up-the-network"><span class="header-section-number">3</span> Bring Up the Network</h1>
<p>In this module, we will manually establish a new IPv4 network.</p>
<p>Once the machine is powered on, and plugged into the CISCO switch, open a terminal and carry out the following commands.</p>
<ol style="list-style-type: decimal">
<li><p>View the current network configuration with the IP command:</p>
<p>ip addr show</p></li>
</ol>
<p>The results will vary, but generally will look like the following:</p>
<pre><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group
default
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp3s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP
group default qlen 1000
    link/ether 60:a4:4c:ac:89:99 brd ff:ff:ff:ff:ff:ff
    inet 192.168.10.131/24 brd 192.168.10.255 scope global enp3s0
       valid_lft forever preferred_lft forever
    inet6 fe80::62a4:4cff:feac:8999/64 scope link
       valid_lft forever preferred_lft forever</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Be lazy, and use the abbreviated form of the command:</p>
<p>ip a</p></li>
<li><p>Bring up your wired Ethernet device (if its state is listed as DOWN):</p>
<p>sudo ip link set enp3s0 up</p></li>
<li><p>Assign your Ethernet device an IP address, in this example we use <code>192.168.2.1</code> with a 24-bit mask:</p>
<p>sudo ip addr add dev enp3s0 192.168.99.2/24</p></li>
</ol>
<p>In this context, the 24-bit mask works out to being the 192.168.99 part of the address. So anything destined for the <code>192.168.99.0</code> network will be routed through the device specified.</p>
<ol start="4" style="list-style-type: decimal">
<li><p>Try to ping the raspberry pi server at 192.168.99.1:</p>
<p>ping -c 2 192.168.99.1</p></li>
</ol>
<p>The result will look similar to the following:</p>
<pre><code>PING 192.168.99.1 (192.168.99.1) 56(84) bytes of data.
64 bytes from 192.168.99.1: icmp_seq=1 ttl=64 time=0.168 ms
64 bytes from 192.168.99.1: icmp_seq=2 ttl=64 time=0.185 ms
--- 192.168.99.1 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.164/0.172/0.180/0.008 ms</code></pre>
<ol start="5" style="list-style-type: decimal">
<li><p>Confirm that your ping used the right interface with the <code>tracepath</code> command:</p></li>
<li><p>See what it looks like to use a different path (make sure you are connected to the wireless for this!):</p>
<p>tracepath 8.8.8.8</p></li>
</ol>
<h2 id="conclusion"><span class="header-section-number">3.1</span> Conclusion</h2>
<p>You brought up the network interface with a static route. Then, you confirmed connectivity with other nodes on the network with the ping command. Although very simple tools, these are surprisingly useful tools for troubleshooting network problems.</p>
<p>Next, you confirmed that the route you thought was being used was actually being used for the new interface, and you were able to see the difference when a different route than expected was used.</p>
<h1 id="get-the-files"><span class="header-section-number">4</span> Get the Files</h1>
<p>For this module, we will use the connected network to mount a network share from a remote system and use it to download and build a game.</p>
<ol style="list-style-type: decimal">
<li><p>View the available shares on the remote system.</p>
<p>showmount -e 192.168.99.1</p></li>
</ol>
<p>Note: This may require the nfs-common package, if so:</p>
<pre><code>sudo apt-get install nfs-common</code></pre>
<p>Expected output:</p>
<pre><code>Export list for 192.168.99.1:
/srv/minetest *</code></pre>
<p>This indicates that there is a directory <code>/srv/minetest</code> that anyone may mount.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>Mount the directory locally:</p>
<p>sudo mount 192.168.99.1:/srv/minetest /mnt</p></li>
<li><p>Check out the files</p>
<p>git clone /mnt/minetest</p></li>
</ol>
<p>Expected output:</p>
<pre><code>Cloning into &#39;minetest&#39;...
done.</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>The project supports various games, so check out the common Minetest game as well:</li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash">    <span class="kw">cd</span> minetest/games
    <span class="kw">git</span> clone /mnt/minetest_game</code></pre>
<p>Expected output:</p>
<pre><code>Cloning into &#39;minetest_game&#39;...
done.</code></pre>
<h2 id="conclusion-1"><span class="header-section-number">4.1</span> Conclusion</h2>
<p>You used the <code>showmount</code> command to see what was available on the remote system, then you used the mount command to make it available to your local system. Now, browsing that <code>/mnt</code> directory provides all of those remote files as though they existed locally. Then, you were able to make use of those files with the <code>git</code> command.</p>
<h1 id="build-the-project"><span class="header-section-number">5</span> Build the Project</h1>
<p>Now that you have the source, it's time to put it to use. This may require installing some compiler tools, such as CMake. If any of the commands fail because they are not installed we will address them as they fail, however, the general approach is to just apt-get install the package containing the missing command. For example, if <code>cmake</code> is missing:</p>
<pre><code>sudo apt-get install cmake</code></pre>
<ol style="list-style-type: decimal">
<li><p>Use cmake to create the build configuration:</p>
<p>cmake . -DRUN_IN_PLACE=TRUE</p></li>
</ol>
<p>Successful output will look like the following:</p>
<pre><code>-- The C compiler identification is GNU 5.2.1
-- The CXX compiler identification is GNU 5.2.1
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- *** Will build version 0.4.15-dev ***
-- Found Irrlicht: /usr/lib/x86_64-linux-gnu/libIrrlicht.so
-- Using GMP provided by system.
-- Found GMP: /usr/lib/x86_64-linux-gnu/libgmp.so
-- Using bundled JSONCPP library.
-- Could NOT find LuaJit (missing:  LUA_LIBRARY LUA_INCLUDE_DIR)
-- LuaJIT not found, using bundled Lua.
-- Found CURL: /usr/lib/x86_64-linux-gnu/libcurl.so
-- cURL support enabled.
-- GetText disabled.
-- Found OpenAL: /usr/lib/x86_64-linux-gnu/libopenal.so
-- Found VORBIS: /usr/include
-- Sound enabled.
-- Found Freetype: /usr/lib/x86_64-linux-gnu/libfreetype.so
-- Freetype enabled.
-- Found Curses: /usr/lib/x86_64-linux-gnu/libcurses.so
-- ncurses console enabled.
-- Could NOT find PostgreSQL (missing:  PostgreSQL_LIBRARY
PostgreSQL_INCLUDE_DIR PostgreSQL_TYPE_INCLUDE_DIR)
-- PostgreSQL not found!
-- LevelDB not found!
-- Redis not found!
-- Found SQLite3: /usr/lib/x86_64-linux-gnu/libsqlite3.so
-- SpatialIndex not found!
-- Looking for XOpenDisplay in
/usr/lib/x86_64-linux-gnu/libX11.so;/usr/lib/x86_64-linux-gnu/libXext.so
-- Looking for XOpenDisplay in
/usr/lib/x86_64-linux-gnu/libX11.so;/usr/lib/x86_64-linux-gnu/libXext.so -
found
-- Looking for gethostbyname
-- Looking for gethostbyname - found
-- Looking for connect
-- Looking for connect - found
-- Looking for remove
-- Looking for remove - found
-- Looking for shmat
-- Looking for shmat - found
-- Looking for IceConnectionNumber in ICE
-- Looking for IceConnectionNumber in ICE - found
-- Found X11: /usr/lib/x86_64-linux-gnu/libX11.so
-- Found OpenGL: /usr/lib/x86_64-linux-gnu/libGL.so
-- Found JPEG: /usr/lib/x86_64-linux-gnu/libjpeg.so
-- Found BZip2: /usr/lib/x86_64-linux-gnu/libbz2.so (found version &quot;1.0.6&quot;)
-- Looking for BZ2_bzCompressInit in /usr/lib/x86_64-linux-gnu/libbz2.so
-- Looking for BZ2_bzCompressInit in /usr/lib/x86_64-linux-gnu/libbz2.so -
found
-- Found ZLIB: /usr/lib/x86_64-linux-gnu/libz.so (found version &quot;1.2.8&quot;)
-- Found PNG: /usr/lib/x86_64-linux-gnu/libpng.so (found version &quot;1.2.51&quot;)
-- Looking for clock_gettime in rt
-- Looking for clock_gettime in rt - found
-- Looking for include file endian.h
-- Looking for include file endian.h - found
-- Could NOT find Doxygen (missing:  DOXYGEN_EXECUTABLE)
-- Configuring done
-- Generating done
-- Build files have been written to: /home/user/minetest</code></pre>
<p>Note that even if some things are not found, it can still be compiled.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>Use make to build the project:</p>
<p>make</p></li>
</ol>
<p>This step will take the longest. It's creating the executable files that will actually run the game server and the client.</p>
<p>The final line of output should look like the following:</p>
<pre><code>[100%] Built target minetest</code></pre>
<p>During the build process, some utilities may be missing. We'll address these on a case by case basis and install them as necessary, but generally the development packages for whatever the failed dependency is will need to be installed. For example:</p>
<p>If you see:</p>
<pre><code>-- Could NOT find Irrlicht (missing:  IRRLICHT_LIBRARY IRRLICHT_INCLUDE_DIR)</code></pre>
<p>You might search for it as follows:</p>
<pre><code>apt-cache search irrlicht dev</code></pre>
<p>And the expected output would be:</p>
<pre><code>libirrlicht-dev - High performance realtime 3D engine development library</code></pre>
<p>So you would then need to install that package:</p>
<pre><code>sudo apt-get install libirrlicht-dev</code></pre>
<p>Or, knowing the dependencies, you could install them in one shot:</p>
<pre><code>sudo apt-get install build-essential libirrlicht-dev cmake libbz2-dev \
libpng-dev libjpeg-dev libxxf86vm-dev libgl1-mesa-dev libsqlite3-dev \
libogg-dev libvorbis-dev libopenal-dev libcurl4-gnutls-dev \
libfreetype6-dev zlib1g-dev libgmp-dev libjsoncpp-dev</code></pre>
<h2 id="conclusion-2"><span class="header-section-number">5.1</span> Conclusion</h2>
<p>We took shortcuts here because I am familiar with the project and I knew what was involved in building it. The general approach to building something from source is to look for instructions on how to build that project. In the case of Minetest, there is a project <code>README.txt</code> that outlines the steps we followed.</p>
<h1 id="run-the-game"><span class="header-section-number">6</span> Run the Game</h1>
<p>Run the game and connect to the pi server.</p>
<ol style="list-style-type: decimal">
<li>From the directory where the game was built, you can launch the <code>minetest</code> executable from the <code>bin</code> sub-directory.</li>
</ol>
<p>For example:</p>
<pre><code>./bin/minetest</code></pre>
<div class="figure">
<img src="images/minetest.png" alt="Minetest Window" /><p class="caption">Minetest Window</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Click on the <em>Client</em> tab, enter the IP address of the pi, enter a user name, pick a password, and click connect.</li>
</ol>
<div class="figure">
<img src="images/client.png" alt="Minetest Client Tab" /><p class="caption">Minetest Client Tab</p>
</div>
<p><strong>Alternately</strong> Choose the <em>Server</em> tab and create your own world.</p>
<h2 id="conclusion-3"><span class="header-section-number">6.1</span> Conclusion</h2>
<p>Generally there is an additional step of installing the compiled code, but many projects support running the executables in place, as is the case with Minetest. But beware of performing a <code>make install</code> if a project suggests it unless you have taken the necessary steps according to that projects instructions to specify an installation path. If you blindly install projects to your installed system, you could end up with collisions between software you have installed from source and software installed from the distribution's package manager.</p>
<h1 id="build-the-server"><span class="header-section-number">7</span> Build the Server</h1>
<p>The server was probably built in the previous step, but this is included here in case anyone needs to build <em>just</em> the server.</p>
<p>Before we can start using mods, we need a place to run those mods. Build the server in much the same fashion as the client.</p>
<ol style="list-style-type: decimal">
<li><p>Use cmake to create the build configuration:</p>
<p>cmake . -DRUN_IN_PLACE=TRUE -DBUILD_SERVER=TRUE</p></li>
</ol>
<p>Successful output will look like the following:</p>
<pre><code>-- *** Will build version 0.4.14-dev ***
-- cURL support enabled.
-- GetText disabled.
-- Sound enabled.
-- Freetype enabled.
-- Could NOT find LuaJit (missing:  LUA_LIBRARY LUA_INCLUDE_DIR) 
-- LuaJIT not found, using bundled Lua.
-- Using GMP provided by system.
-- Found Curses: /usr/lib/x86_64-linux-gnu/libcurses.so  
-- ncurses console enabled.
-- Could NOT find PostgreSQL (missing:  PostgreSQL_LIBRARY
PostgreSQL_INCLUDE_DIR PostgreSQL_TYPE_INCLUDE_DIR) 
-- PostgreSQL not found!
-- LevelDB not found!
-- Redis not found!
-- Using bundled JSONCPP library.
-- SpatialIndex not found!
-- Could NOT find Doxygen (missing:  DOXYGEN_EXECUTABLE) 
-- Configuring done
-- Generating done
-- Build files have been written to: /home/stephen/minetest</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Start the build, this time, provide a number of jobs that <code>make</code> can use to take advantage of multi-threading the build so that it doesn't take quite as long.</p>
<p>make -j4</p></li>
</ol>
<p>The final line of output should look like the following:</p>
<pre><code>[100%] Built target minetestserver</code></pre>
<h1 id="launch-the-server"><span class="header-section-number">8</span> Launch the Server</h1>
<p>The server can actually be configured and launched from the client interface.</p>
<ol style="list-style-type: decimal">
<li><p>Launch the client.</p>
<p>./bin/minetest</p></li>
<li><p>Click on the Server tab.</p></li>
<li><p>Click on New.</p></li>
<li><p>Type in a world name.</p></li>
<li><p>Select a map generator. You can experiment with this later to see the effects.</p></li>
<li><p>Select a game type (generally leave this on the default, <em>Minetest Game</em>).</p></li>
<li><p>Click on Create</p></li>
<li><p>Choose a user name and password, when you start the server, this will be an administrative account with access to additional commands. (Note, you will need to edit the key bindings after you launch the game in order to use double-jump to fly.)</p></li>
<li><p>Click on Start Game.</p></li>
</ol>
<h2 id="conclusion-4"><span class="header-section-number">8.1</span> Conclusion</h2>
<p>In testing mods we'll use this method the most, so it's presented first. Later on we'll discuss how to launch the server from a script and why you might want to do that.</p>
<h1 id="get-some-mods"><span class="header-section-number">9</span> Get some Mods</h1>
<p>The school network probably blocks the Minetest web site, so point your web browser to the <a href="http://192.168.99.1">Pi</a> and get some mods from there. Otherwise, browse over to the <a href="http://www.minetest.net/customize/">minetest website</a>.</p>
</body>
</html>
